import{A,B as w,n as s}from"./components-CR-84NmD.js";import{C as r,a as c,b as d}from"./card-DTQuCjmS.js";import{B}from"./button-BQyo11lN.js";function l({label:m,value:e}){const t=Math.floor((e-10)/2);return s.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[s.jsx("div",{className:"text-sm text-gray-600",children:m}),s.jsx("div",{className:"text-2xl font-bold",children:e}),s.jsx("div",{className:"text-sm",children:t>=0?`+${t}`:t})]})}function H(){var x,h,j,p,g,N,v,u,y;const m=A(),{character:e,imageUrl:t}=m,f=w();return!e||!e.stats?s.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"max-w-4xl mx-auto text-center",children:s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Character data is invalid"})})}):(console.log(e),s.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx("div",{className:"flex items-center justify-between mb-8",children:s.jsx(B,{variant:"ghost",className:"text-gray-600 hover:text-gray-900",onClick:()=>f(-1),children:"← Back"})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs(r,{className:"md:col-span-1",children:[s.jsxs(c,{children:[s.jsx("h2",{className:"text-2xl font-bold",children:e.name}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Level ",e.level," ",e.race," ",e.characterClass]})]}),s.jsxs(d,{children:[s.jsx("img",{src:t,alt:e.name,className:"w-full h-auto rounded-lg shadow-lg mb-4",onError:a=>{console.error("Failed to load image"),a.currentTarget.style.display="none"}}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Alignment:"})," ",e.alignment]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Speed:"})," ",e.speed," ft."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Initiative:"})," ",e.initiativeModifier>=0?"+":"",e.initiativeModifier]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Armor Class:"})," ",((x=e.armor)==null?void 0:x.baseAC)+((h=e.armor)!=null&&h.isShieldEquipped?2:0)+((j=e.armor)==null?void 0:j.magicBonus)]})]}),(((p=e.actions)==null?void 0:p.length)>0||((g=e.bonusActions)==null?void 0:g.length)>0)&&s.jsxs("div",{className:"mt-4 space-y-4",children:[((N=e.actions)==null?void 0:N.length)>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Actions"}),s.jsx("div",{className:"space-y-2",children:(v=e.actions)==null?void 0:v.map((a,i)=>s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"font-medium",children:a.name}),a.type==="weapon"&&a.damage&&s.jsxs("p",{className:"text-gray-600",children:["Attack: ",a.attackBonus&&(a.attackBonus>=0?"+":""),a.attackBonus," | Damage: ",a.damage.diceCount,"d",a.damage.diceType," + ",a.damage.modifier," ",a.damage.type]}),a.description&&s.jsx("p",{className:"text-gray-600",children:a.description})]},i))})]}),((u=e.bonusActions)==null?void 0:u.length)>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Bonus Actions"}),s.jsx("div",{className:"space-y-2",children:(y=e.bonusActions)==null?void 0:y.map((a,i)=>s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"font-medium",children:a.name}),a.type==="weapon"&&a.damage&&s.jsxs("p",{className:"text-gray-600",children:["Attack: ",a.attackBonus&&(a.attackBonus>=0?"+":""),a.attackBonus," | Damage: ",a.damage.diceCount,"d",a.damage.diceType," + ",a.damage.modifier," ",a.damage.type]}),a.description&&s.jsx("p",{className:"text-gray-600",children:a.description})]},i))})]})]})]})]}),s.jsxs(r,{className:"md:col-span-1",children:[s.jsx(c,{children:s.jsx("h2",{className:"text-xl font-bold",children:"Abilities"})}),s.jsxs(d,{children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(l,{label:"Strength",value:e.stats.strength}),s.jsx(l,{label:"Dexterity",value:e.stats.dexterity}),s.jsx(l,{label:"Constitution",value:e.stats.constitution}),s.jsx(l,{label:"Intelligence",value:e.stats.intelligence}),s.jsx(l,{label:"Wisdom",value:e.stats.wisdom}),s.jsx(l,{label:"Charisma",value:e.stats.charisma})]}),s.jsx("div",{className:"mt-6 p-4 border rounded-lg",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-sm text-gray-600",children:"Hit Points"}),s.jsxs("div",{className:"text-2xl font-bold",children:[e.currentHp," / ",e.maxHp]})]})})]})]}),s.jsxs(r,{className:"md:col-span-1",children:[s.jsx(c,{children:s.jsx("h2",{className:"text-xl font-bold",children:"Proficiencies & Skills"})}),s.jsx(d,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Saving Throws"}),s.jsx("div",{className:"space-y-1",children:Object.entries(e.savingThrows).map(([a,i])=>{const b=e.stats[a.toLowerCase()],n=Math.floor((b-10)/2)+(i?e.proficiencyBonus:0);return s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:i?"font-semibold":"text-gray-600",children:a.charAt(0).toUpperCase()+a.slice(1)}),s.jsx("span",{className:i?"font-semibold":"text-gray-600",children:n>=0?`+${n}`:n})]},a)})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Skills"}),s.jsx("div",{className:"space-y-1",children:Object.entries(e.skills).map(([a,i])=>{const n={acrobatics:"dexterity",animalHandling:"wisdom",arcana:"intelligence",athletics:"strength",deception:"charisma",history:"intelligence",insight:"wisdom",intimidation:"charisma",investigation:"intelligence",medicine:"wisdom",nature:"intelligence",perception:"wisdom",performance:"charisma",persuasion:"charisma",religion:"intelligence",sleightOfHand:"dexterity",stealth:"dexterity",survival:"wisdom"}[a],C=e.stats[n],o=Math.floor((C-10)/2)+(i?e.proficiencyBonus:0);return s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:i?"font-semibold":"text-gray-600",children:a.replace(/([A-Z])/g," $1").trim().charAt(0).toUpperCase()+a.replace(/([A-Z])/g," $1").trim().slice(1)}),s.jsx("span",{className:i?"font-semibold":"text-gray-600",children:o>=0?`+${o}`:o})]},a)})})]})]})})]}),s.jsxs(r,{className:"md:col-span-3",children:[s.jsx(c,{children:s.jsx("h2",{className:"text-xl font-bold",children:"Background"})}),s.jsx(d,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"Appearance"}),s.jsx("p",{className:"text-gray-700",children:e.appearance})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"Backstory"}),s.jsx("p",{className:"text-gray-700",children:e.backstory})]})]})})]}),s.jsxs(r,{className:"md:col-span-3",children:[s.jsx(c,{children:s.jsx("h2",{className:"text-xl font-bold",children:"Equipment & Conditions"})}),s.jsx(d,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Inventory"}),s.jsx("ul",{className:"list-disc list-inside text-gray-700",children:e.inventory.map((a,i)=>s.jsx("li",{children:a},i))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Active Conditions"}),s.jsx("ul",{className:"list-disc list-inside text-gray-700",children:Array.from(e.conditions).map((a,i)=>s.jsx("li",{children:a},i))})]})]})})]})]})]})}))}export{H as default};
